flowchart TD

A[Start - Agent or Service Activity Occurs] --> B[Emit Metrics, Logs, and Trace Spans]

B --> C1[Metrics Collected by Prometheus]
B --> C2[Logs Pushed to Loki / ELK]
B --> C3[Trace Events Captured by Jaeger]

C1 --> D1[Grafana Dashboard - Metrics]
C2 --> D2[Grafana Dashboard - Logs]
C3 --> D3[Grafana Dashboard - Traces]

C1 --> E[Alert Manager - Threshold Check]
E -->|Alert Fired| F[Notify via Email, Slack, or PagerDuty]

B --> G[Write Audit Record to TimescaleDB]
G --> D4[Visualized as Audit Trail or Change History]

%% Styling
classDef block fill:#c8e6c9,stroke:#388e3c,color:#000
class A,B,C1,C2,C3,D1,D2,D3,D4,E,F,G block
