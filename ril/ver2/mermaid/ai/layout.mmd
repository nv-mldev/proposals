flowchart LR
  subgraph AI_Agent_Layer["AI Agent Layer"]
    direction LR

    %% API Interface
    API[AI Agent API Interface]:::core

    %% Agents
    EA[Email Agent]:::agent
    DE[Doc Extraction Agent]:::agent
    CA[Compliance Agent]:::agent
    DG[Document Generation Agent]:::agent
    SD[Semantic Diff Agent]:::agent
    DP[Diagram Parsing Agent]:::agent
    IA[Interaction Agent]:::agent
    RA[Reporting Agent]:::agent

    %% Shared Services
    CORE[Shared LLM Runtime]:::core
    VDB[(Vector DB)]:::database
  end

  %% API → Agents
  API --> EA & DE & CA & DG & SD & DP & IA & RA

  %% Agents → LLM
  EA --> CORE
  DE --> CORE
  CA --> CORE
  DG --> CORE
  IA --> CORE
  RA --> CORE
  SD --> CORE
  DP --> CORE

  %% Vector dependencies
  SD --> VDB
  DP --> VDB
  RA --> VDB

  classDef agent     fill:#fff3e0,stroke:#fb8c00,color:#000
  classDef core      fill:#e3f2fd,stroke:#2196f3,color:#000
  classDef database  fill:#d1c4e9,stroke:#5e35b1,stroke-dasharray:5 5,color:#000

